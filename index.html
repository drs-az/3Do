<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#6366f1" />
  <title>3Do ðŸ¤–</title>
  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="wrap">
    <header class="row topbar">
      <div>
        <h1>ðŸ¤–</h1>
        <div class="muted"><a href="#" id="powerLink" style="text-decoration: none; color: black;">The Power of Three</a></div>
      </div>
      <div class="row">
        <button id="installBtn" class="btn install hidden">Install App</button>
        <div class="card xp-card">
          <div class="muted" style="font-size:12px">XP (Week)</div>
          <div id="xpWeek" style="font-size:18px;font-weight:600">0</div>
        </div>
        <div class="card xp-card">
          <div class="muted" style="font-size:12px">XP (Allâ€‘Time)</div>
          <div id="xpAll" style="font-size:18px;font-weight:600">0</div>
        </div>
      </div>
    </header>

    <nav class="tabs">
      <button class="btn" data-tab="planner">Planner</button>
      <button class="btn" data-tab="robot">Robot</button>
      <button class="btn" data-tab="history">History</button>
      <div class="right"></div>
      <button id="resetBtn" class="btn warn">Reset</button>
    </nav>

    <section id="planner" class="tab card">
      <div id="taskCreator"></div>
      <div class="grid cols-3">
        <div class="slot" data-priority="red"></div>
        <div class="slot" data-priority="yellow"></div>
        <div class="slot" data-priority="green"></div>
      </div>
    </section>

    <section id="robot" class="tab card hidden">
      <div class="grid cols-2">
        <div>
          <h2 style="margin:0 0 8px">Your Weekly Robot</h2>
          <div class="muted" style="margin-bottom:12px">Parts unlock as you earn weekly XP. New week = fresh build.</div>
          <div id="robotCanvas" class="card" style="text-align:center"></div>
        </div>
        <div class="card">
          <h3 style="margin-top:0">Unlocks</h3>
          <ul id="unlockList" style="list-style:none;padding:0;margin:0"></ul>
          <div class="muted" style="margin-top:8px">This week: <b id="xpWeek2">0</b> XP</div>
          <div class="muted" style="font-size:12px">Week key: <span id="weekKey">â€”</span></div>
        </div>
      </div>
    </section>

      <section id="history" class="tab card hidden">
        <h2 style="margin:0 0 8px">Completed Tasks</h2>
        <div id="historyEmpty" class="muted">No completed tasks yet.</div>
        <div id="historyTableWrap" class="hidden">
          <table>
            <colgroup>
              <col style="width:33%" />
              <col style="width:67%" />
            </colgroup>
            <thead>
              <tr class="muted"><th>Completed</th><th>Task</th></tr>
            </thead>
            <tbody id="historyTbody"></tbody>
          </table>
        </div>
      </section>
  <footer class="footer">
    <button id="updateBtn" class="btn">Update</button>
  </footer>
  </div>

  <div id="resetModal" class="modal hidden">
    <div class="modal-content">
      <h2>Reset All Data?</h2>
      <p>This will remove all tasks and cannot be undone.</p>
      <div style="text-align:right;margin-top:16px;display:flex;gap:8px;justify-content:flex-end">
        <button id="resetCancel" class="btn">Cancel</button>
        <button id="resetConfirm" class="btn warn">Reset</button>
      </div>
    </div>
  </div>

  <div id="historyModal" class="modal hidden">
    <div class="modal-content">
      <h2>Task Details</h2>
      <div id="historyDetails"></div>
      <div style="text-align:right;margin-top:16px">
        <button id="historyClose" class="btn">Close</button>
      </div>
    </div>
  </div>

  <div id="powerModal" class="modal hidden">
  <div class="modal-content">
    <h2>The Power of 3</h2>
    <p>Most task lists fail because they try to do too much. You open the app, dump in everything you might want to accomplish, and suddenly your to-do list feels more like a guilt trip than a productivity tool.</p>
    <p>Science says our brains work differently. Research on working memory shows we can only juggle about 3â€“4 meaningful tasks at once before focus starts to break down. Long lists donâ€™t make us more productive â€” they just increase stress and decision fatigue.</p>
    <p>By limiting your list to three tasks, youâ€™re forced to choose what really matters today. Itâ€™s not about doing everything â€” itâ€™s about doing the right things. When you finish all three, you actually complete your list, and that sense of momentum fuels even more progress.</p>
    <p>Thatâ€™s the power of 3:</p>
    <ul>
      <li>Clarity: No clutter, just focus</li>
      <li>Priority: The most important work comes first</li>
      <li>Completion: Finish your list, build momentum</li>
    </ul>
    <p>Your productivity doesnâ€™t need more â€” it needs less. Three is enough.</p>
    <div style="text-align:right;margin-top:16px">
      <button id="powerClose" class="btn">Close</button>
    </div>
  </div>
</div>

<script src="app.js"></script>
</body>
</html>
